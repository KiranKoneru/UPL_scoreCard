<!DOCTYPE HTML>
<html>
	<head>
		<script>
		
		function calScore(){
		var score = document.getElementById("score");
		var striker = document.getElementsByClassName("striker");
		var runner = document.getElementsByClassName("runner");
		var bowler = document.getElementsByClassName("bowler");
		var curBall = document.getElementById("curBall");
		var runs = parseInt(curBall.options[curBall.selectedIndex].value);
		
		//batsman stats
		
		if (striker.length!= 1){
			alert("This Application is a mess!! Jeez!!");
			}
		else{
			striker[0].children[2].innerHTML = parseInt(striker[0].children[2].innerHTML) + runs ;
			score.innerHTML = parseInt(score.innerHTML) + runs; 
			striker[0].children[3].innerHTML = parseInt(striker[0].children[3].innerHTML) + 1 ;
			var sRuns = parseInt(striker[0].children[2].innerHTML);
			var sBalls = parseInt(striker[0].children[3].innerHTML);
			var sSR = ((sRuns/sBalls) * 100).toFixed(2) ;
			striker[0].children[6].innerHTML = sSR ;
			if (runs ==4) striker[0].children[4].innerHTML = parseInt(striker[0].children[4].innerHTML) + 1 ;
			if (runs==6) striker[0].children[5].innerHTML = parseInt(striker[0].children[5].innerHTML) + 1 ;
			}
		
		
		//bowler stats	
		var balls = ((parseFloat(bowler[0].children[2].innerHTML) * 10 ) % 10) + 1;
		var overs =  parseInt(bowler[0].children[2].innerHTML) ;
		if(balls==6) {balls=0;overs++;}
		
		bowler[0].children[2].innerHTML = overs + '.' + balls;
		bowler[0].children[3].innerHTML = parseInt(bowler[0].children[3].innerHTML) + runs;
		bowler[0].children[6].innerHTML = ((((parseInt(bowler[0].children[3].innerHTML))/((overs * 6) + balls) ))* 6).toFixed(2);
	
		
		//code to change batsman strike
		var cStriker = striker[0];
		var cRunner = runner[0];
		if((runs%2 != 0 || balls == 0) && (!(runs%2 != 0 && balls == 0))) {
																	cStriker.className = "runner";
																	cRunner.className = "striker";
		}
		
	
		
		
		curBall.selectedIndex = "";
		}
		
		function extra(){
			var e = parseInt(prompt("How many Runs?"));
			var bowler = document.getElementsByClassName("bowler");
			var striker = document.getElementsByClassName("striker");
			var score = document.getElementById("score");
			var runner = document.getElementsByClassName("runner");
			var balls = ((parseFloat(bowler[0].children[2].innerHTML) * 10 ) % 10);
			var overs =  parseInt(bowler[0].children[2].innerHTML) ;
			if(e == 0 || (!e) ) return;
			var extra = document.getElementById("extra");
			var eRuns = extra.options[extra.selectedIndex].value;
			if(eRuns == "wide" || eRuns == "byes"){
													score.innerHTML = parseInt(score.innerHTML) + e;
													bowler[0].children[3].innerHTML = parseInt(bowler[0].children[3].innerHTML) + e;
													bowler[0].children[5].innerHTML = parseInt(bowler[0].children[5].innerHTML) + e;
													bowler[0].children[6].innerHTML
													= ((((parseInt(bowler[0].children[3].innerHTML))/((overs * 6) + balls) ))* 6).toFixed(2);
													
			}
			if(eRuns == "noball" ){
									var cStriker = striker[0];
									var cRunner = runner[0];
									score.innerHTML = parseInt(score.innerHTML) + e;
									striker[0].children[2].innerHTML = parseInt(striker[0].children[2].innerHTML) + e - 1;
									bowler[0].children[3].innerHTML = parseInt(bowler[0].children[3].innerHTML) + e;
									bowler[0].children[5].innerHTML = parseInt(bowler[0].children[5].innerHTML) + 1;
									bowler[0].children[6].innerHTML
									= ((((parseInt(bowler[0].children[3].innerHTML))/((overs * 6) + balls) ))* 6).toFixed(2);
									
									if(((e-1)%2 != 0 || balls == 0) && (!((e-1)%2 != 0 && balls == 0))) {
																	cStriker.className = "runner";
																	cRunner.className = "striker";
									}
			}
			extra.selectedIndex = "extra";
		}
		
		
		</script>
		
		<style>
		.runner{
			background-color:red;
		}
		
		.striker{
			background-color:green;
		}
		
		.bowler{
			background-color:yellow;
		}
		</style>
	</head>
	<body>
		<div style="height:300px">
			<h2 style="display:inline">
			Team a <p id="score" style="display:inline">48</p> / <p style="display:inline" id="wickets"> 1 </p>
			</h2>
			<table id="batTeam" border="1">
				<tr>
					<th>S.No</th>
					<th>Batsman</th>
					<th>Runs</th>
					<th>Balls</th>
					<th>4s</th>
					<th>6s</th>
					<th>SR</th>
				</tr>
				<tr class="striker">
					<td > 1</td>
					<td > Neeraj</td>
					<td >20</td>
					<td >15</td>
					<td >1</td>
					<td >1</td>
					<td >133</td>		
				</tr>
				<tr class="runner">
					<td > 2</td>
					<td > Naveen</td>
					<td >25</td>
					<td >20</td>
					<td >2</td>
					<td >1</td>
					<td >125</td>		
				</tr>
			
			</table>
		</div>
		<div style="height:100px">
			<table border="1">
				<tr>
					<th>S.No</th>
					<th>Bowler</th>
					<th>Overs</th>
					<th>Runs</th>
					<th>Wickets</th>
					<th>Extras</th>
					<th>Economy</th>
				</tr>
				<tr class="bowler">
					<td>1</td>
					<td>Kiran</td>
					<td>1.4</td>
					<td>15</td>
					<td>1</td>
					<td>3</td>
					<td>9</td>
				</tr>
			</table>
		</div>
		<div>
			<select onchange="calScore()" id="curBall">
				<option></option>
				<option value="0">0</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
			</select>
			<select id="extra" onchange="extra()">
				<option>Extra</option>
				<option value="noball">No Ball</option>
				<option value="wide">Wide</option>
				<option value="byes">Byes</option>
			</select>
		</div>
		
		
	</body>
</html>
